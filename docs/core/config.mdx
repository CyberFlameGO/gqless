---
id: config
title: Core Configuration
sidebar_label: Configuration
---

The Core Client has some configurations you can set manually:

```ts
createClient<GeneratedSchema, SchemaObjectTypesNames, SchemaObjectTypes>({
  // Required configuration
  schema: generatedSchema,
  scalarsEnumsHash,
  queryFetcher,

  // Optional configurable options

  catchSelectionsTimeMS: 10,
  retry: true,
  normalization: true,
  subscriptionsClient,
});
```

## Configurable ClientOptions

| Name                  | Type                                                  | Default Value | Description                                                                                    |
| --------------------- | ----------------------------------------------------- | ------------- | ---------------------------------------------------------------------------------------------- |
| catchSelectionsTimeMS | `number`                                              | `10`          | Amount of time in milliseconds for the scheduler to wait for grouping data selections together |
| retry                 | [`RetryOptions`](/core/api-reference#retryoptions)    | `true`        | Retry on error behavior                                                                        |
| normalization         | `boolean` or [`NormalizationOptions`](#normalization) | `true`        | Enable, disable and configure [Normalization](#normalization)                                  |
| subscriptionsClient   | [`SubscriptionsClient`](/core/subscriptions)          | `undefined`   | Subscriptions client                                                                           |

## Normalization

`gqless` has support for `normalization`, which helps to reduce data redundancy and improve data integrity across all the cache.

It is `enabled` by default, but you can disable it, which will disable the need of automatically fetching `__typename` and `id's` and all the computing logic needed to support it.

```ts
createClient<GeneratedSchema, SchemaObjectTypes, SchemaObjectTypesNames>({
  // ...
  normalization: false,
});
```

But often enough, it's very useful, and keep in mind that `Normalization` in `gqless` is highly customizable:

### Identifier

You can specify a custom object identifier function.

It gives an incoming object with it's `__typename` and it should return:

- A **string** if successfully identified
- '**null**' if it shouldn't be normalized
- Or '**undefined**', to fallback to either default or custom [`keyFields`](#keyfields)

```ts
createClient<GeneratedSchema, SchemaObjectTypes, SchemaObjectTypesNames>({
  // ...
  normalization: {
    identifier(obj) {
      switch (obj.__typename) {
        case 'User': {
          if (obj.email) {
            return `${obj.__typename}${obj.email}`;
          }
          return null;
        }
        default: {
          return;
        }
      }
    },
  },
});
```

### keyFields

Auto-fetch & object identifier customization.

> Keep in mind that `gqless` already checks your schema and looks for the fields **id** or **\_\_id**
> and it add thems **automatically**.

Set custom **id's** of any object type in your schema.

**IMPORTANT**: Please make sure to only put [`Scalars`](https://graphql.org/learn/schema/#scalar-types)
without any variable needed as `keyFields`

```ts
createClient<GeneratedSchema, SchemaObjectTypes, SchemaObjectTypesNames>({
  // ...
  normalization: {
    keyFields: {
      User: ['email'],
    },
  },
});
```
